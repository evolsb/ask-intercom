{"timestamp": "2025-06-18T19:59:17.379322Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T19:59:17.379711Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T19:59:17.722968Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T19:59:17.723257Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T19:59:17.723410Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T19:59:23.679493Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/debug", "session_id": "sess_4aa80cbc65bc", "request_id": "req_0ffe8386b462", "data": {"method": "GET", "path": "/api/debug", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T19:59:23.681203Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/debug completed in 1ms", "session_id": "sess_4aa80cbc65bc", "request_id": "req_0ffe8386b462", "data": {"method": "GET", "path": "/api/debug", "status_code": 404, "duration_ms": 1}}
{"timestamp": "2025-06-18T19:59:28.999623Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/health", "session_id": "sess_737049e59a15", "request_id": "req_38026ac90398", "data": {"method": "GET", "path": "/api/health", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T19:59:29.000330Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/health completed in 0ms", "session_id": "sess_737049e59a15", "request_id": "req_38026ac90398", "data": {"method": "GET", "path": "/api/health", "status_code": 404, "duration_ms": 0}}
{"timestamp": "2025-06-18T19:59:45.229555Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T19:59:45.230575Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T19:59:45.830351Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T19:59:45.830549Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T19:59:45.831593Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T20:03:45.335003Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T20:03:45.335449Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:03:45.806236Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T20:03:45.806534Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:03:45.807926Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T20:03:50.893088Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/debug", "session_id": "sess_f4e7fc9adcc0", "request_id": "req_4f419cfe4175", "data": {"method": "GET", "path": "/api/debug", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:03:50.894280Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/debug completed in 1ms", "session_id": "sess_f4e7fc9adcc0", "request_id": "req_4f419cfe4175", "data": {"method": "GET", "path": "/api/debug", "status_code": 404, "duration_ms": 1}}
{"timestamp": "2025-06-18T20:04:08.423848Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /docs", "session_id": "sess_7c94c140e6c7", "request_id": "req_d51bf9658610", "data": {"method": "GET", "path": "/docs", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:04:08.424093Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /docs completed in 0ms", "session_id": "sess_7c94c140e6c7", "request_id": "req_d51bf9658610", "data": {"method": "GET", "path": "/docs", "status_code": 200, "duration_ms": 0}}
{"timestamp": "2025-06-18T20:04:15.399791Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /openapi.json", "session_id": "sess_4568248ec7a2", "request_id": "req_bba0b2f441bf", "data": {"method": "GET", "path": "/openapi.json", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:04:15.406422Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /openapi.json completed in 6ms", "session_id": "sess_4568248ec7a2", "request_id": "req_bba0b2f441bf", "data": {"method": "GET", "path": "/openapi.json", "status_code": 200, "duration_ms": 6}}
{"timestamp": "2025-06-18T20:04:20.597244Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/health", "session_id": "sess_df9cfc88db93", "request_id": "req_21e4b7200104", "data": {"method": "GET", "path": "/api/health", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:04:20.597790Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/health completed in 0ms", "session_id": "sess_df9cfc88db93", "request_id": "req_21e4b7200104", "data": {"method": "GET", "path": "/api/health", "status_code": 404, "duration_ms": 0}}
{"timestamp": "2025-06-18T20:04:26.170180Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /", "session_id": "sess_fe78ff5a976a", "request_id": "req_b9b3daf7aafe", "data": {"method": "GET", "path": "/", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:04:26.172630Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET / completed in 2ms", "session_id": "sess_fe78ff5a976a", "request_id": "req_b9b3daf7aafe", "data": {"method": "GET", "path": "/", "status_code": 200, "duration_ms": 2}}
{"timestamp": "2025-06-18T20:05:29.465397Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T20:05:29.465547Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:05:30.168910Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T20:05:30.169252Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:05:30.169419Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T20:05:36.035351Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/health", "session_id": "sess_3b97d299d204", "request_id": "req_7f84ab381da8", "data": {"method": "GET", "path": "/api/health", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:05:36.036592Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/health completed in 1ms", "session_id": "sess_3b97d299d204", "request_id": "req_7f84ab381da8", "data": {"method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 1}}
{"timestamp": "2025-06-18T20:05:42.124971Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/debug", "session_id": "sess_6acabf179154", "request_id": "req_744827f33a88", "data": {"method": "GET", "path": "/api/debug", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:05:42.125166Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "session_id": "sess_6acabf179154", "request_id": "req_744827f33a88", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:05:42.574062Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "session_id": "sess_6acabf179154", "request_id": "req_744827f33a88", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T20:05:42.574321Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/debug completed in 449ms", "session_id": "sess_6acabf179154", "request_id": "req_744827f33a88", "data": {"method": "GET", "path": "/api/debug", "status_code": 200, "duration_ms": 449}}
{"timestamp": "2025-06-18T20:10:17.566613Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/debug", "session_id": "sess_b61edc64828d", "request_id": "req_51d7f8166909", "data": {"method": "GET", "path": "/api/debug", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:10:17.566992Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "session_id": "sess_b61edc64828d", "request_id": "req_51d7f8166909", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:10:18.365798Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "session_id": "sess_b61edc64828d", "request_id": "req_51d7f8166909", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T20:10:18.366281Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/debug completed in 799ms", "session_id": "sess_b61edc64828d", "request_id": "req_51d7f8166909", "data": {"method": "GET", "path": "/api/debug", "status_code": 200, "duration_ms": 799}}
{"timestamp": "2025-06-18T20:10:22.207242Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/debug", "session_id": "sess_6879760c3ece", "request_id": "req_84db27709ff7", "data": {"method": "GET", "path": "/api/debug", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T20:10:22.207439Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "session_id": "sess_6879760c3ece", "request_id": "req_84db27709ff7", "data": {"results": {"intercom_token": "missing", "openai_key": "present", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T20:10:22.719795Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "session_id": "sess_6879760c3ece", "request_id": "req_84db27709ff7", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T20:10:22.720002Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/debug completed in 512ms", "session_id": "sess_6879760c3ece", "request_id": "req_84db27709ff7", "data": {"method": "GET", "path": "/api/debug", "status_code": 200, "duration_ms": 512}}
{"timestamp": "2025-06-18T21:03:25.702167Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:03:25.702953Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:03:25.703010Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:03:25.703070Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:03:25.703240Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:03:31.434883Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/health", "session_id": "sess_00b274267bdc", "request_id": "req_0216a80c143d", "data": {"method": "GET", "path": "/api/health", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T21:03:31.435235Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/health completed in 0ms", "session_id": "sess_00b274267bdc", "request_id": "req_0216a80c143d", "data": {"method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 0}}
{"timestamp": "2025-06-18T21:04:46.319136Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/validate", "session_id": "sess_852ca796ecee", "request_id": "req_cfa9685f2720", "data": {"method": "POST", "path": "/api/validate", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T21:04:46.320282Z", "level": "INFO", "service": "backend", "event": "validation_start", "message": "API key validation requested", "session_id": "sess_852ca796ecee", "request_id": "req_cfa9685f2720", "data": {"has_intercom_token": true, "has_openai_key": true}}
{"timestamp": "2025-06-18T21:04:46.321319Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/validate completed in 1ms", "session_id": "sess_852ca796ecee", "request_id": "req_cfa9685f2720", "data": {"method": "POST", "path": "/api/validate", "status_code": 200, "duration_ms": 1}}
{"timestamp": "2025-06-18T21:05:09.014176Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/validate", "session_id": "sess_b7032dfe64ca", "request_id": "req_7ee47d646d5f", "data": {"method": "POST", "path": "/api/validate", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T21:05:09.015599Z", "level": "INFO", "service": "backend", "event": "validation_start", "message": "API key validation requested", "session_id": "sess_b7032dfe64ca", "request_id": "req_7ee47d646d5f", "data": {"has_intercom_token": true, "has_openai_key": true}}
{"timestamp": "2025-06-18T21:05:09.586207Z", "level": "INFO", "service": "backend", "event": "validation_complete", "message": "API key validation completed: invalid", "session_id": "sess_b7032dfe64ca", "request_id": "req_7ee47d646d5f", "data": {"status": "invalid", "intercom_status": "unauthorized", "openai_status": "unauthorized", "errors": ["Intercom API test failed: unauthorized", "OpenAI API test failed: unauthorized"]}}
{"timestamp": "2025-06-18T21:05:09.586495Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/validate completed in 572ms", "session_id": "sess_b7032dfe64ca", "request_id": "req_7ee47d646d5f", "data": {"method": "POST", "path": "/api/validate", "status_code": 200, "duration_ms": 572}}
{"timestamp": "2025-06-18T21:05:48.353944Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/validate", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_be773c15750b", "data": {"method": "POST", "path": "/api/validate", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:05:48.354722Z", "level": "INFO", "service": "backend", "event": "validation_start", "message": "API key validation requested", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_be773c15750b", "data": {"has_intercom_token": true, "has_openai_key": true}}
{"timestamp": "2025-06-18T21:05:48.733532Z", "level": "INFO", "service": "backend", "event": "validation_complete", "message": "API key validation completed: invalid", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_be773c15750b", "data": {"status": "invalid", "intercom_status": "reachable", "openai_status": "unauthorized", "errors": ["OpenAI API test failed: unauthorized"]}}
{"timestamp": "2025-06-18T21:05:48.737726Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/validate completed in 383ms", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_be773c15750b", "data": {"method": "POST", "path": "/api/validate", "status_code": 200, "duration_ms": 383}}
{"timestamp": "2025-06-18T21:05:55.626996Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/validate", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_73dc505424d5", "data": {"method": "POST", "path": "/api/validate", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:05:55.627965Z", "level": "INFO", "service": "backend", "event": "validation_start", "message": "API key validation requested", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_73dc505424d5", "data": {"has_intercom_token": true, "has_openai_key": true}}
{"timestamp": "2025-06-18T21:05:56.333764Z", "level": "INFO", "service": "backend", "event": "validation_complete", "message": "API key validation completed: valid", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_73dc505424d5", "data": {"status": "valid", "intercom_status": "reachable", "openai_status": "reachable", "errors": []}}
{"timestamp": "2025-06-18T21:05:56.334556Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/validate completed in 707ms", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_73dc505424d5", "data": {"method": "POST", "path": "/api/validate", "status_code": 200, "duration_ms": 707}}
{"timestamp": "2025-06-18T21:06:05.962114Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/analyze", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679", "data": {"method": "POST", "path": "/api/analyze", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:06:05.964834Z", "level": "INFO", "service": "backend", "event": "query_start", "message": "Query processing started: any complaints today", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679", "data": {"query": "any complaints today", "max_conversations": 50, "start_time": "2025-06-18T21:06:05.964744"}}
{"timestamp": "2025-06-18T21:06:05.965025Z", "level": "INFO", "service": "backend", "event": "general", "message": "Starting query processing", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:05.965069Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching Intercom app ID for conversation links...", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.078384Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found app ID via /me endpoint: sc3pepw3", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.078553Z", "level": "INFO", "service": "backend", "event": "general", "message": "Using app ID: sc3pepw3", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.083376Z", "level": "INFO", "service": "backend", "event": "general", "message": "Interpreting query timeframe...", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.083444Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsing timeframe from query: 'any complaints today'", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.083740Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsed timeframe: Today (2025-06-18 00:00:00 to 2025-06-18 23:59:59)", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.083790Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_timeframe API call", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.083815Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching conversations from Today...", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:06.083906Z", "level": "INFO", "service": "backend", "event": "general", "message": "MCP not implemented yet, using REST API", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128101Z", "level": "INFO", "service": "backend", "event": "general", "message": "Page 1: Parsed 35 conversations (total: 35)", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128172Z", "level": "INFO", "service": "backend", "event": "general", "message": "Reached end of results (page_size=52, total=52)", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128340Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found 35 total conversations in the specified timeframe", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128384Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetched all 35 conversations found", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128536Z", "level": "INFO", "service": "backend", "event": "general", "message": "intercom API call", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128583Z", "level": "INFO", "service": "backend", "event": "general", "message": "Analyzing 35 conversations...", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.128801Z", "level": "INFO", "service": "backend", "event": "general", "message": "Compressed 35 conversations from 35 total", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:13.129221Z", "level": "INFO", "service": "backend", "event": "general", "message": "Selected model: gpt-4 for query: 'any complaints today...' (35 conversations)", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:35.338018Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_analysis API call", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:35.338093Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:35.338135Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed in 29.4s, cost: $0.159", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679"}
{"timestamp": "2025-06-18T21:06:35.338257Z", "level": "INFO", "service": "backend", "event": "query_complete", "message": "Query processing completed in 29373ms", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679", "data": {"query": "any complaints today", "duration_ms": 29373, "conversation_count": 35, "insights_count": 4, "cost_usd": 0.15924, "tokens_used": 4908}}
{"timestamp": "2025-06-18T21:06:35.338652Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/analyze completed in 29376ms", "session_id": "sess_1750280748348_l8sy1rzeg", "request_id": "req_3104e55d2679", "data": {"method": "POST", "path": "/api/analyze", "status_code": 200, "duration_ms": 29376}}
{"timestamp": "2025-06-18T21:07:20.973152Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:07:20.973264Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:07:20.973322Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:07:20.973379Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:07:20.973422Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:09:08.451252Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:09:08.451386Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:09:08.451443Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:09:08.451497Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:09:08.451541Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:09:17.539024Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:09:17.539134Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:09:17.539183Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:09:17.539231Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:09:17.539274Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:09:33.774267Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:09:33.774401Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:09:33.774454Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:09:33.774508Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:09:33.774549Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:13:45.131541Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:13:45.131952Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:13:45.132021Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:13:45.132085Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:13:45.132273Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:13:51.972376Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "GET /api/health", "session_id": "sess_d695b353bdcb", "request_id": "req_88c98f8ba7aa", "data": {"method": "GET", "path": "/api/health", "query_params": {}, "user_agent": "curl/8.7.1"}}
{"timestamp": "2025-06-18T21:13:51.972746Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "GET /api/health completed in 0ms", "session_id": "sess_d695b353bdcb", "request_id": "req_88c98f8ba7aa", "data": {"method": "GET", "path": "/api/health", "status_code": 200, "duration_ms": 0}}
{"timestamp": "2025-06-18T21:16:16.721064Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/validate", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_cd289c5faa92", "data": {"method": "POST", "path": "/api/validate", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:16:16.725375Z", "level": "INFO", "service": "backend", "event": "validation_start", "message": "API key validation requested", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_cd289c5faa92", "data": {"has_intercom_token": true, "has_openai_key": true}}
{"timestamp": "2025-06-18T21:16:17.229441Z", "level": "INFO", "service": "backend", "event": "validation_complete", "message": "API key validation completed: valid", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_cd289c5faa92", "data": {"status": "valid", "intercom_status": "reachable", "openai_status": "reachable", "errors": []}}
{"timestamp": "2025-06-18T21:16:17.231514Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/validate completed in 510ms", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_cd289c5faa92", "data": {"method": "POST", "path": "/api/validate", "status_code": 200, "duration_ms": 510}}
{"timestamp": "2025-06-18T21:16:32.282711Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/analyze", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d", "data": {"method": "POST", "path": "/api/analyze", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:16:32.285572Z", "level": "INFO", "service": "backend", "event": "query_start", "message": "Query processing started: any complaints today?", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d", "data": {"query": "any complaints today?", "max_conversations": 50, "start_time": "2025-06-18T21:16:32.285511"}}
{"timestamp": "2025-06-18T21:16:32.285674Z", "level": "INFO", "service": "backend", "event": "general", "message": "Starting query processing", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.285705Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching Intercom app ID for conversation links...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.395616Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found app ID via /me endpoint: sc3pepw3", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.395791Z", "level": "INFO", "service": "backend", "event": "general", "message": "Using app ID: sc3pepw3", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.400546Z", "level": "INFO", "service": "backend", "event": "general", "message": "Interpreting query timeframe...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.400631Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsing timeframe from query: 'any complaints today?'", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.400846Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsed timeframe: Today (2025-06-18 00:00:00 to 2025-06-18 23:59:59)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.400889Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_timeframe API call", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.400915Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching conversations from Today...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:32.401042Z", "level": "INFO", "service": "backend", "event": "general", "message": "MCP not implemented yet, using REST API", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.727341Z", "level": "INFO", "service": "backend", "event": "general", "message": "Page 1: Parsed 35 conversations (total: 35)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.728274Z", "level": "INFO", "service": "backend", "event": "general", "message": "Reached end of results (page_size=52, total=52)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.728411Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found 35 total conversations in the specified timeframe", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.728439Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetched all 35 conversations found", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.728552Z", "level": "INFO", "service": "backend", "event": "general", "message": "intercom API call", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.728591Z", "level": "INFO", "service": "backend", "event": "general", "message": "Analyzing 35 conversations...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.728753Z", "level": "INFO", "service": "backend", "event": "general", "message": "Compressed 35 conversations from 35 total", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:39.729075Z", "level": "INFO", "service": "backend", "event": "general", "message": "Selected model: gpt-4 for query: 'any complaints today?...' (35 conversations)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:53.812145Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_analysis API call", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:53.812266Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:53.812337Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed in 21.5s, cost: $0.159", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d"}
{"timestamp": "2025-06-18T21:16:53.812532Z", "level": "INFO", "service": "backend", "event": "query_complete", "message": "Query processing completed in 21526ms", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d", "data": {"query": "any complaints today?", "duration_ms": 21526, "conversation_count": 35, "insights_count": 4, "cost_usd": 0.15924, "tokens_used": 4908}}
{"timestamp": "2025-06-18T21:16:53.813023Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/analyze completed in 21529ms", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_0e67d656302d", "data": {"method": "POST", "path": "/api/analyze", "status_code": 200, "duration_ms": 21529}}
{"timestamp": "2025-06-18T21:21:14.135607Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/analyze", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864", "data": {"method": "POST", "path": "/api/analyze", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:21:14.138532Z", "level": "INFO", "service": "backend", "event": "query_start", "message": "Query processing started: any complaints today?", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864", "data": {"query": "any complaints today?", "max_conversations": 50, "start_time": "2025-06-18T21:21:14.138467"}}
{"timestamp": "2025-06-18T21:21:14.138862Z", "level": "INFO", "service": "backend", "event": "general", "message": "Starting query processing", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.138919Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching Intercom app ID for conversation links...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.276278Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found app ID via /me endpoint: sc3pepw3", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.276475Z", "level": "INFO", "service": "backend", "event": "general", "message": "Using app ID: sc3pepw3", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.282989Z", "level": "INFO", "service": "backend", "event": "general", "message": "Interpreting query timeframe...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.283067Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsing timeframe from query: 'any complaints today?'", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.283127Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsed timeframe: Today (2025-06-18 00:00:00 to 2025-06-18 23:59:59)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.283183Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_timeframe API call", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.283214Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching conversations from Today...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:14.283293Z", "level": "INFO", "service": "backend", "event": "general", "message": "MCP not implemented yet, using REST API", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.168612Z", "level": "INFO", "service": "backend", "event": "general", "message": "Page 1: Parsed 35 conversations (total: 35)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.168691Z", "level": "INFO", "service": "backend", "event": "general", "message": "Reached end of results (page_size=52, total=52)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.168964Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found 35 total conversations in the specified timeframe", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.169114Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetched all 35 conversations found", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.169464Z", "level": "INFO", "service": "backend", "event": "general", "message": "intercom API call", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.169555Z", "level": "INFO", "service": "backend", "event": "general", "message": "Analyzing 35 conversations...", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.170133Z", "level": "INFO", "service": "backend", "event": "general", "message": "Compressed 35 conversations from 35 total", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:21.170502Z", "level": "INFO", "service": "backend", "event": "general", "message": "Selected model: gpt-4 for query: 'any complaints today?...' (35 conversations)", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:30.136757Z", "level": "INFO", "service": "backend", "event": "request_start", "message": "POST /api/analyze", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79", "data": {"method": "POST", "path": "/api/analyze", "query_params": {}, "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/137.0.0.0 Safari/537.36"}}
{"timestamp": "2025-06-18T21:21:30.137230Z", "level": "INFO", "service": "backend", "event": "query_start", "message": "Query processing started: Show me issues from the last 24 hours", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79", "data": {"query": "Show me issues from the last 24 hours", "max_conversations": 50, "start_time": "2025-06-18T21:21:30.137189"}}
{"timestamp": "2025-06-18T21:21:30.137306Z", "level": "INFO", "service": "backend", "event": "general", "message": "Starting query processing", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.137340Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching Intercom app ID for conversation links...", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.256426Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found app ID via /me endpoint: sc3pepw3", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.256918Z", "level": "INFO", "service": "backend", "event": "general", "message": "Using app ID: sc3pepw3", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.273489Z", "level": "INFO", "service": "backend", "event": "general", "message": "Interpreting query timeframe...", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.273633Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsing timeframe from query: 'Show me issues from the last 24 hours'", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.273748Z", "level": "INFO", "service": "backend", "event": "general", "message": "Parsed timeframe: Last 24 hours (2025-06-17 17:21:30 to 2025-06-18 17:21:30)", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.273832Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_timeframe API call", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.273897Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetching conversations from Last 24 hours...", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:30.274040Z", "level": "INFO", "service": "backend", "event": "general", "message": "MCP not implemented yet, using REST API", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.991153Z", "level": "INFO", "service": "backend", "event": "general", "message": "Page 1: Parsed 49 conversations (total: 49)", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.991221Z", "level": "INFO", "service": "backend", "event": "general", "message": "Reached end of results (page_size=66, total=66)", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.991538Z", "level": "INFO", "service": "backend", "event": "general", "message": "Found 49 total conversations in the specified timeframe", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.991604Z", "level": "INFO", "service": "backend", "event": "general", "message": "Fetched all 49 conversations found", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.991819Z", "level": "INFO", "service": "backend", "event": "general", "message": "intercom API call", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.991860Z", "level": "INFO", "service": "backend", "event": "general", "message": "Analyzing 49 conversations...", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.992166Z", "level": "INFO", "service": "backend", "event": "general", "message": "Compressed 49 conversations from 49 total", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:38.992395Z", "level": "INFO", "service": "backend", "event": "general", "message": "Selected model: gpt-3.5-turbo for query: 'Show me issues from the last 24 hours...' (49 conversations)", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:41.371726Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_analysis API call", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:41.371904Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:41.371979Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed in 27.2s, cost: $0.159", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864"}
{"timestamp": "2025-06-18T21:21:41.372495Z", "level": "INFO", "service": "backend", "event": "query_complete", "message": "Query processing completed in 27233ms", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864", "data": {"query": "any complaints today?", "duration_ms": 27233, "conversation_count": 35, "insights_count": 3, "cost_usd": 0.15924, "tokens_used": 4908}}
{"timestamp": "2025-06-18T21:21:41.373251Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/analyze completed in 27237ms", "session_id": "sess_1750281376699_suk2eg2i5", "request_id": "req_c70fd602c864", "data": {"method": "POST", "path": "/api/analyze", "status_code": 200, "duration_ms": 27237}}
{"timestamp": "2025-06-18T21:21:42.303628Z", "level": "INFO", "service": "backend", "event": "general", "message": "openai_analysis API call", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:42.303690Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:42.303725Z", "level": "INFO", "service": "backend", "event": "general", "message": "Query completed in 12.2s, cost: $0.205", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79"}
{"timestamp": "2025-06-18T21:21:42.303785Z", "level": "INFO", "service": "backend", "event": "query_complete", "message": "Query processing completed in 12166ms", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79", "data": {"query": "Show me issues from the last 24 hours", "duration_ms": 12166, "conversation_count": 49, "insights_count": 3, "cost_usd": 0.20514, "tokens_used": 6506}}
{"timestamp": "2025-06-18T21:21:42.304201Z", "level": "INFO", "service": "backend", "event": "request_complete", "message": "POST /api/analyze completed in 12167ms", "session_id": "sess_1750281690132_q8eppmx80", "request_id": "req_e06b99f83f79", "data": {"method": "POST", "path": "/api/analyze", "status_code": 200, "duration_ms": 12167}}
{"timestamp": "2025-06-18T21:56:34.959856Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:56:34.959963Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:56:34.960014Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:56:34.960062Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:56:34.960103Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
{"timestamp": "2025-06-18T21:59:39.672167Z", "level": "INFO", "service": "backend", "event": "startup", "message": "Starting Ask-Intercom API"}
{"timestamp": "2025-06-18T21:59:39.672284Z", "level": "INFO", "service": "backend", "event": "environment_validation", "message": "Environment validation failed", "data": {"results": {"intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:59:39.672336Z", "level": "INFO", "service": "backend", "event": "health_check", "message": "Health check completed: unhealthy", "data": {"status": "unhealthy"}}
{"timestamp": "2025-06-18T21:59:39.672385Z", "level": "ERROR", "service": "backend", "event": "startup_error", "message": "Environment validation failed", "data": {"environment_status": {"valid": false, "intercom_token": "missing", "openai_key": "missing", "log_directory": "writable"}}}
{"timestamp": "2025-06-18T21:59:39.672426Z", "level": "INFO", "service": "backend", "event": "startup_complete", "message": "API started with status: unhealthy", "data": {"health_status": "unhealthy"}}
